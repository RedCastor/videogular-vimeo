!function(e){function n(i){if(t[i])return t[i].exports;var o=t[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n){"use strict";angular.module("videogular.plugins.vimeo",[]).directive("vgVimeo",["VG_STATES",function(e){return{restrict:"A",require:"^videogular",link:function(n,t,i,o){function r(e){var n=/^.+vimeo.com\/(.*\/)?([^#\?]*)/,t=e.match(n);return t?t[2]||t[1]:null}function u(){var e=new CustomEvent("loadedmetadata");o.mediaElement[0].dispatchEvent(e)}function a(){if(Object.defineProperties(o.mediaElement[0],{currentTime:{get:function(){return g},set:function(e){g=e,f.vimeo("seekTo",e)},enumerable:!0,configurable:!0},duration:{get:function(){return p},enumerable:!0,configurable:!0},paused:{get:function(){return E},enumerable:!0,configurable:!0},videoWidth:{get:function(){return d},enumerable:!0,configurable:!0},videoHeight:{get:function(){return v},enumerable:!0,configurable:!0},volume:{get:function(){return h},set:function(e){h=e,f.vimeo("setVolume",e)},enumerable:!0,configurable:!0}}),o.mediaElement[0].play=function(){f.vimeo("play")},o.mediaElement[0].pause=function(){f.vimeo("pause")},f.vimeo("getVolume",function(e){h=e,o.onVolumeChange()}).vimeo("getCurrentTime",function(e){g=e,u()}).vimeo("getDuration",function(e){p=e,u()}),E=!0,l(),o.currentState!==e.PLAY){var n=new CustomEvent("canplay");o.mediaElement[0].dispatchEvent(n)}else f.vimeo("play")}function c(e){var n=document.createElement("iframe");return n.src="//player.vimeo.com/video/"+e+"?api=1&player_id=vimeoplayer",n.frameBorder=0,n.scrolling="no",n.style.width="100%",n.style.height="100%",angular.element(n)}function l(){o.onUpdateTime({target:o.mediaElement[0]})}function m(){f.on("ready",function(){a()}).on("play",function(){E=!1;var n=new CustomEvent("playing");o.mediaElement[0].dispatchEvent(n),o.setState(e.PLAY)}).on("pause",function(){E=!0;var n=new CustomEvent("pause");o.mediaElement[0].dispatchEvent(n),o.setState(e.PAUSE)}).on("finish",function(){o.onComplete()}).on("playProgress",function(e,n){g=n.seconds,p=n.duration,l()}).on("loadProgress",function(e,n){var e=new CustomEvent("waiting");o.mediaElement[0].dispatchEvent(e)})}function s(e){if(!e)return void(f&&f.destroy());var n=r(e);n&&(f=c(n),$(o.mediaElement[0]).replaceWith(f),m(f))}var f,d,v,g,p,E,h;n.$watch(function(){return o.sources},function(e,n){s(e&&e.length>0&&e[0].src?e[0].src.toString():null)})}}}])}]);